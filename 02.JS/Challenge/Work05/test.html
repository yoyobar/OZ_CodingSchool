<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="container"></div>
  </body>
  <script>
    let monsterHP = 100;
    let container = document.getElementById("container");
    const h1 = document.createElement("h1");
    h1.textContent = "몬스터 잡기 게임을 시작합니다.";
    container.appendChild(h1);

    let attackDamage = parseInt(prompt("1회 공격시 데미지는? (양의 정수)"));
    let attackCount = 0;
    if (attackDamage > 0) {
      // 게임 실행
      while (monsterHP > 0) {
        monsterHP -= attackDamage; //체력 감소
        attackCount++;
        const p = document.createElement("p");
        p.textContent = `몬스터를 ${attackCount}회 공격했다.`;
        container.appendChild(p);

        const strong = document.createElement("strong");
        strong.textContent = `몬스터의 남은 HP는 ${monsterHP} 입니다.`;
        container.appendChild(strong);

        if (monsterHP <= 0) {
          strong.textContent = `몬스터의 남은 HP는 0 입니다.`;
        }
        // JavaScript는 코드를 순차적으로 실행하며 조건문이 만족되는 시점에서 해당 동작이 즉시 실행됩니다.
        // 따라서 조건문이 .appendChild 다음에 오더라도 실제로는 값이 바로 변경되어 보이는 것입니다.
      }
      const h2 = document.createElement("h2");
      h2.textContent = "몬스터 잡기 완료! 수고하셨습니다.";
      h2.style.color = "orange";
      h2.title = "게임을 다시 시작하고 싶으면 새로고침하세요";
      container.appendChild(h2);
    } else {
      // 게임 실행X
      alert("데미지를 잘못 입력하여 게임을 취소합니다.");
    }
  </script>
</html>
